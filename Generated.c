#include<stdio.h>
#include<string.h>
#include<unistd.h>
#include<sys/mman.h>

char code[] = {0x55,0x48,0x89,0xe5,0x89,0x7d,0xdc,0x48,0x89,0x75,0xd0,0xc7,0x45,0xe0,0x0a,0x00,0x00,0x00,0x48,0xc7,0x45,0xe8,0x69,0x01,0x40,0x00,0x8b,0x45,0xe0,0x89,0x45,0xfc,0x8b,0x45,0xfc,0x5d,0xc3,0x00};

int main(int argc, char **argv){

	void *buffer = mmap (0,sizeof(code),PROT_READ|PROT_WRITE|PROT_EXEC, MAP_PRIVATE|MAP_ANON,-1,0);
	memcpy (buffer, code, sizeof(code));
	int value = ((int (*) (void))buffer)();
	/*Modify from here, to handle return value : */

    printf("Value of ID : %d\n", value);

	return 0;
}
